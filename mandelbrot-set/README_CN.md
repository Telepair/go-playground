# 曼德博集合 - 分形可视化

[English Version / 英文版本](README.md)

[Wikipedia - Mandelbrot Set](https://en.wikipedia.org/wiki/Mandelbrot_set)

一个精美的终端用户界面 (TUI) 实现，展示曼德博集合和朱利亚集合，通过交互式可视化探索迷人的分形世界。

[![asciicast](https://asciinema.org/a/723615.svg)](https://asciinema.org/a/723615)

## 特性

- **曼德博集合**: 探索具有无限复杂性的经典分形集合
- **朱利亚集合**: 切换到朱利亚集合模式，支持自定义参数
- **交互式导航**: 平移、缩放和探索分形景观
- **多种配色方案**: 5 种不同的调色板，呈现绚丽视觉效果
- **预设位置**: 快速访问有趣的分形特征
- **双语支持**: 中英文界面
- **实时计算**: 探索过程中动态生成分形
- **键盘控制**: 无需鼠标的直观导航

## 数学背景

曼德博集合定义为复数 `c` 的集合，对于这些复数，序列：

```
z₀ = 0
zₙ₊₁ = zₙ² + c
```

在 n 趋于无穷时保持有界（即 |z| ≤ 2）。

朱利亚集合，对于给定的复参数 `c`，定义类似，但从 `z₀ = z`（被测试的点）开始：

```
zₙ₊₁ = zₙ² + c
```

## 安装

```bash
# 进入 mandelbrot-set 目录
cd mandelbrot-set

# 运行程序
go run .
```

## 使用方法

### 命令行选项

```bash
# 基本使用
go run .

# 自定义设置
go run . -zoom 2.0 -center-x -0.5 -center-y 0.0

# 高迭代次数和自定义配色
go run . -max-iter 100 -color-scheme 2

# 朱利亚集合模式
go run . -julia -julia-c "0.285+0.01i"

# 中文界面
go run . -lang cn
```

### 键盘控制

| 按键                   | 动作                             |
| ---------------------- | -------------------------------- |
| `方向键` / `WASD`      | 在分形周围平移                   |
| `Shift + 方向键`       | 精细平移                         |
| `+` / `=`              | 放大                             |
| `-` / `_`              | 缩小                             |
| `M`                    | 在曼德博集合和朱利亚集合之间切换 |
| `C`                    | 循环切换配色方案                 |
| `I`                    | 增加最大迭代次数                 |
| `K`                    | 减少最大迭代次数                 |
| `P`                    | 跳转到下一个预设位置             |
| `L`                    | 切换语言（中文/英文）            |
| `R`                    | 重置到默认视图                   |
| `Q` / `Ctrl+C` / `Esc` | 退出                             |

### 配色方案

1. **经典**: 传统黑白色
2. **热色**: 暖色调（红、橙、黄）
3. **冷色**: 冷色调（蓝、青、紫）
4. **彩虹**: 全光谱色彩
5. **灰度**: 平滑灰度渐变

### 预设位置

程序包含几个有趣的预设位置：

- **经典视图**: 标准的曼德博集合视图
- **海马谷**: 美丽的海马状结构
- **闪电**: 类似电流的分支模式
- **大象谷**: 象鼻状的形态
- **螺旋**: 螺旋臂和结构
- **迷你曼德博**: 自相似的较小副本
- **羽毛**: 精致的羽毛状图案
- **龙**: 类似龙曲线的结构

## 技术细节

- **语言**: Go
- **UI 框架**: Bubble Tea (TUI)
- **样式**: Lip Gloss
- **复数运算**: Go 原生 complex128 类型
- **性能**: 使用字符串构建器和高效渲染优化

## 配置

### 命令行参数

| 参数            | 默认值          | 描述                 |
| --------------- | --------------- | -------------------- |
| `-rows`         | 30              | 显示网格的行数       |
| `-cols`         | 80              | 显示网格的列数       |
| `-max-iter`     | 50              | 最大迭代次数         |
| `-zoom`         | 1.0             | 初始缩放级别         |
| `-center-x`     | -0.5            | 初始中心 X 坐标      |
| `-center-y`     | 0.0             | 初始中心 Y 坐标      |
| `-color-scheme` | 0               | 配色方案 (0-4)       |
| `-julia`        | false           | 以朱利亚集合模式启动 |
| `-julia-c`      | "-0.7+0.27015i" | 朱利亚集合参数       |
| `-lang`         | "en"            | 语言 (en/cn)         |

## 示例

### 探索曼德博集合

1. 启动程序：`go run .`
2. 使用方向键平移
3. 使用 `+` 和 `-` 放大和缩小
4. 按 `P` 跳转到有趣的位置
5. 按 `C` 循环切换配色方案

### 朱利亚集合探索

1. 以朱利亚集合模式启动：`go run . -julia`
2. 或使用 `M` 键切换模式
3. 朱利亚集合使用固定参数 `c`
4. 不同的 `c` 值创建不同的朱利亚集合

### 高细节渲染

详细探索：

```bash
go run . -max-iter 200 -zoom 100 -center-x -0.7463 -center-y 0.1102
```

## 数学趣味

曼德博集合展现了几个迷人的特性：

- **自相似性**: 放大显示不同尺度上的相似结构
- **无限复杂性**: 边界具有无限细节
- **连通性**: 整个集合是连通的
- **朱利亚集合**: 复平面上的每个点都有一个相关联的朱利亚集合

## 性能说明

- 计算时间随迭代次数和缩放级别增加
- 更高的缩放级别可能需要更多迭代才能显示细节
- 程序使用高效算法，但非常高的缩放级别会较慢
- 现代多核系统将受益于并行计算

## 贡献

欢迎贡献改进、额外的配色方案或新的预设位置！

## 许可证

此项目是 go-playground 仓库的一部分，遵循相同的许可条款。
