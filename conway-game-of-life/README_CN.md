# 康威生命游戏

_[English Version / 英文版本](README.md)_

[Wikipedia - Conway's Game of Life](https://en.wikipedia.org/wiki/Conway's_Game_of_Life)

一个具有多种预定义模式和高度可定制渲染选项的康威生命游戏终端用户界面(TUI)实现。

[![asciicast](https://asciinema.org/a/723612.svg)](https://asciinema.org/a/723612)

## 功能特性

- **经典生命游戏规则**: 忠实实现康威原始的元胞自动机
- **多种启动模式**:
  - 随机: 随机分布的初始细胞
  - 滑翔机: 著名的在网格中移动的滑翔机模式
  - 滑翔机枪: 持续产生滑翔机的戈斯帕滑翔机枪
  - 振荡器: 在状态间振荡的闪烁模式
  - 脉冲星: 具有复杂行为的 3 周期振荡器
  - R 五格骨牌: 演化超过 1000 代的混沌模式
- **双边界条件**:
  - 周期性: 环绕边缘（环面拓扑）
  - 固定: 边界外为死细胞
- **增强用户界面**:
  - 🎮 现代游戏品牌标题
  - ⚡ 带有代数计数和速度的实时状态显示
  - 🎨 交互式模式切换
  - 🔄 暂停/继续功能
  - 📐 可定制的细胞渲染和颜色
- **实时控制**: 无需重启即可更改模式、边界条件和速度
- **双语支持**: 中英文界面
- **性能优化**: 高效的 2D 网格计算和渲染

## 安装

```bash
# 克隆仓库
git clone <repository-url>
cd conway-game-of-life

# 构建应用程序
go build -o conway-game-of-life
```

## 使用方法

### 基本命令

```bash
# 使用默认设置运行
./conway-game-of-life

# 自定义颜色和字符
./conway-game-of-life -alive-char "🟢" -dead-char "⚫"
```

### 命令行选项

- `-rows <数字>`: 网格行数（默认: 30）
- `-cols <数字>`: 网格列数（默认: 60）
- `-alive-color <颜色>`: 活细胞颜色，十六进制格式（默认: #00FF00）
- `-dead-color <颜色>`: 死细胞颜色，十六进制格式（默认: #000000）
- `-alive-char <字符>`: 活细胞字符（默认: █）
- `-dead-char <字符>`: 死细胞字符（默认: 空格）
- `-lang <en/cn>`: 界面语言（默认: en）

### 示例命令

```bash
# 在大网格上运行
./conway-game-of-life -rows 50 -cols 100

# 自定义颜色
./conway-game-of-life -alive-color "#FF0000" -dead-color "#000033"

# 基于表情符号的可视化
./conway-game-of-life -alive-char "🔴" -dead-char "⚪"

# 中文界面
./conway-game-of-life -lang cn
```

## 控制按键

### 通用控制

- **空格键** 或 **回车键**: 暂停/继续模拟
- **q** 或 **Ctrl+C**: 退出应用程序
- **l**: 切换语言（中文/英文）

### 交互控制

- **p**: 循环切换不同模式（随机 → 滑翔机 → 滑翔机枪 → 振荡器 → 脉冲星 → 五格骨牌）
- **b**: 切换边界条件（周期性 ↔ 固定）
- **+** 或 **=**: 提高速度（减少刷新间隔）
- **-** 或 **\_**: 降低速度（增加刷新间隔）

## 模式介绍

### 滑翔机

一个 5 细胞模式，每 4 代对角移动穿过网格。

```
  █
   █
███
```

### 滑翔机枪

产生稳定的滑翔机流。证明了生命游戏可以有无限增长的模式。

### 振荡器

- **闪烁器**: 简单的 2 周期振荡器
- **脉冲星**: 复杂的 3 周期振荡器

### R 五格骨牌

一个混沌演化 1103 代后才稳定的长寿模式。

## 游戏规则

康威生命游戏遵循这些简单规则：

1. **生存**: 任何有 2 或 3 个活邻居的活细胞在下一代继续存活
2. **诞生**: 任何有恰好 3 个活邻居的死细胞变成活细胞
3. **死亡**: 所有其他活细胞死亡（人口不足或过度拥挤）
4. **静止**: 所有其他死细胞保持死亡

## 技术细节

### 边界条件

- **周期性**: 网格像环面一样环绕 - 边缘的细胞与对面的细胞相互作用
- **固定**: 网格边界外的细胞被视为永久死亡

### 性能

- **高效计算**: 带有边界条件处理的优化邻居计数
- **内存管理**: 预分配网格和网格交换以最小化分配
- **渲染优化**: 缓存样式字符串和高效字符串构建
- **实时更新**: 无需重启即可动态调整参数

### 模式复杂性分类

- **静态生命**: 不变化的模式（演化后达到）
- **振荡器**: 在固定代数后返回初始状态的模式
- **宇宙飞船**: 在网格中平移自身的模式
- **长寿模式**: 需要很长时间才能稳定的模式
- **无限增长**: 无限增长的模式

## 贡献

1. Fork 仓库
2. 创建功能分支
3. 进行更改
4. 如适用，添加测试
5. 提交 pull request

## 许可证

此项目是开源的。请查看许可证文件了解详情。

## 有趣的事实

- 康威生命游戏是图灵完备的 - 它可以模拟任何可计算函数
- 生命游戏已被用于构建计算机、计算器，甚至模拟它自己
- 一些模式需要数千代才能稳定或进入重复循环
- 滑翔机枪是第一个被发现的无限增长模式
